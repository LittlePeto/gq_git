第二天内容：
	linux基础知识，基本命令

# 一、文件属性信息

ls -l命令
文件类型、文件权限、文件属主属组、文件大小、文件最后修改时间、文件名

## 1、文件类型7类

字符设备与块设备的区别：
	操作数据的基本单位不同：分别是1字节、1块（4096字节，由OS决定）

```
1、常见的字符设备文件：
	/dev/console 控制终端
	/dev/input/event0-4 键盘
	/dev/input/mouse0-2 鼠标
	/dev/ttyS0-S2 串口
	/dev/null 空设备
```

	2、常见的块设备文件：
	/dev/sda1 :  设备名称为sda1 
	
	命名规则（例如sda1表示3个信息）：
		硬盘类型（前两个字母）：
			scsi类型：sd开头
			ide类型：hd开头
		硬盘设备编号：
			a：表示第一主盘：操作系统所在的盘
			b：表示第一从盘
		分区编号：
			1：表示第一分区

## 2、文件权限

分为三类权限
修改权限的两种方式：
	chmod 777   文件名
	chmod u/g/o/a +-r/w/x  文件名

# 二、linux命令

1、	cd 
		注意绝对路径和相对路径的使用，如果找不到该路径，会报错没有当前文件或目录

	自动补全：
		路径自动补全，按一次tab键
		命令自动补全，按两次tab键

2、	pwd	显示当前目录的绝对路径

​	     whoami  显示当前正在使用的用户

3、	mkdir	目录名

		功能：创建目录
		-m指定新建目录的权限（默认775，例如mkdir test -m 777）	
		mkdir a b c  :在同一个路径下同时创建多个目录

4、	rmdir 或者 rm -r	目录名
	     删除目录
	     -p同时删除多级目录
	     注意：rmdir的目标目录必须是空目录

5、	ls   	列举文件
		-l长列表格式		-t按时间降序    	-r反转(将行调换)
		-R递归显示子信息   	-i显示文件inode结点	-h单位自动适配(显示所占内存单位）
		-a显示所有文件，包含隐藏目录	  -d只显示目录名
		*适配多个任意字符	?适配单个任意字符

	练习：显示/mnt目录下的所有文件的详细信息，并按时间降序显示，并单位自动适配
		ls  -alth  /mnt
	练习：显示/bin目录下所有c开头t结尾的文件
		ls   c*t  /bin
	练习：列出当前目录下所有名称是h开头的文件，越新的排序越靠后
		ls  -ltr  h*
	
	stat 文件名
		查看文件具体信息：大小、权限、最近访问、更改、改动、创建时间等

6、   查看帮助文档
	方式1：命令  	--help
	方式2：man	  命令名/函数名

​	man的帮助手册页：第一章命令、第二章系统调用、第三章库函数。

7、	cat	文件名		 显示文件内容
	cat  -n 文件名		 显示带行号的文件内容
	cat	文件1 > 文件2    覆盖重定向
	cat	文件1 >> 文件2	 追加重定向
	cat	>  文件名	从终端获取输入到文件中，会覆盖原来所有内容
	
8、	touch	文件名 		创建一个空文件
		如果文件存在时去创建，不会报错，只会更新文件的时间戳。stat命令查看

9、	mv	移动或重命名文件/目录

		mv  文件路径1	目录名		：移动文件到指定目录，如果文件存在，则覆盖
		mv  文件1	文件2		：如果文件2不存在，文件1被重命名为文件2；如果存在，同样是重命名，用来文件2的内容会被覆盖。
		mv  目录名1	目录名2		：移动目录（目录2存在）| 重命名（目录2不存在）
		-f:强制模式	-i询问模式（是否要确定执行该命令，yes/no）
		-b：备份（会生成一个同名的文件，文件名后面有一个~符号）	
		-S指定后缀（-S.bak  之间没有空格）
	
	练习：将当前目录下所有txt结尾的文件移动到olddir/dir中，并备份，指定后缀为.bak
		mv  *.txt  olddir/dir -bS.bak
	
	练习：把olddir目录重命名为newdir
	 	mv olddir  newdir

10、	rm	删除文件或目录

		rm 文件名
		rm -r  目录名
		-i 询问选项
		-f 强制删除

11、	more	分屏查看文件

		more  目标文件	
		+n：从n行开始显示
		-n：每屏显示n行

12、	less	分屏查看文件

		less 目标文件
		-p  关键字	：查询关键字  
		-M  百分比显示  ：例如less -Mp root /etc/passwd

13、	head	查看文件头部内容（默认前10行）

		head  文件名
		-n 5：显示头部5行
		-n -5：显示除尾部5行的内容
		-c 5：显示头部5个字符
		-c -5：显示除尾部5个字符

14、	tail	查看文件尾部（默认后10行）
		tail 文件名

```
练习：将/etc/passwd文件的前5行写入到user文件中
	将/etc/passwd文件的尾部5行追加到user文件中
```

15、	cut 	按列查看文件（查看表格文件）
		cut -d  '分隔符' -f 目标列  文件名
		-c  1-5  ：每行前5个字符
		例如：  cut -d ':' -f 1 /etc/passwd
			   显示/etc/passwd文件的第1列

16、	file	查询文件的属性
		file  文件名

17、	ll	查询指定文件的详细信息
		相当于ls -laF的别名；  用alias命令可查看命令的别名

18、	chown	改变文件的属主或属组
		chown 新属主	目标文件
		chown 新属主：  目标文件
		chown 新属主：新属组	目标文件
		-R	递归修改

19、	umask	改变系统权限掩码
	umask	：直接查看默认掩码，一般是002，这是由系统配置文件设置的，可以在/etc/profile中去修改
	umask	003	：设置掩码为003
	创建文件的权限 = 666 - 掩码
	创建目录的权限 = 777 - 掩码
	

# 三、文件高级命令

20、	cmp	比较文件
		cmp     文件1	文件2
		如果相同，没有任何信息显示，如果不同，会显示哪个位置有不同。
	
21、	find	查找指定文件（递归）

	find	目标目录（在哪查）	规则（怎么查）
		-name		按文件名查
		-size +100c 	按大小查（c\k\M\G\T）;大于100字节；-100c（小于）；100c（等于）
			例如：find  /home  -size +100c
	
		-and(与)  	-or(或)		-not(非)
		例如：从/bin目录找出小于10字节或大于1M的文件
			find   /bin   -size -10c -or -size +1M 
		
		-atime -1	按时间查（1天之内访问）
		-amin  -10	10分钟内访问
		-mtime	-1	1天之内修改
		-mmin	-10	10分钟内修改
		-user	edu	按文件属主查，查找属主是edu的文件
		-group	edu	按文件属组查，查找属组是edu的文件
		-perm	664	按权限查，查找权限是664的文件 , permit

22、	whereis	 查找命令文件在哪里  
		 whereis  命令			binary二进制
		 例如whereis ls ===> 得到 /usr/bin/ls（所在位置）/usr/share/man/man1/ls.1.gz（帮助手册所在位置）
		
23、	grep	从文件中查找指定的内容
		grep  "关键字"   目标文件
		例如：	grep "root"  /etc/passwd

		关键字支持正则表达式；
		例如查找2.txt文件中以hello开头和结尾的信息：  
				grep  "\<hello\>"  2.txt  
		例如查找3.txt文件中以c开头，a-z中一个字母，b结尾的信息：  
				grep "\<c[a-z]b\>" 3.txt			
		例如查找3.txt文件中符合电话号码特征（关键字含义：1开头，第二个数字为3或7，第三个数字为4792之一，后面重复8次，为0-9的数字）的信息： 
				grep "\<1[37][4792][0-9]{8\}\>" 3.txt
	
		-R递归查找；	-n显示行号；	-i忽略大小写；	-w全字匹配
	
		grep 与 | （管道）组合完成更复杂的功能，   将左边命令的输出作为右边命令的输入
		wc ：统计行数、列宽（列宽最长所占字符数）、总字符数
		ps -ef：显示当前系统中所有的进程。
			ps -ef | more	显示前10行，当前终端的进程
	
		例如：找出当前目录下最近修改时间为15:16的文件
			ls -l | grep "15:16"  （将ls -l的输出作为grep的输入，对每行信息扫描）
		在上述的基础上，再统计下行数
			ls -l | grep "15:16" | wc -l


24、	cp	复制文件或目录
		cp	源	目标
			文件1    文件2（复制文件内容，会覆盖，）
			文件1    目录1（复制文件）
		     -r 目录1	 目录2（复制目录）
		-f强制		-b备份
		-i询问		-S指定后缀
		
25、	tar	打包或解包
		打包：tar	-cvf	目标包（*.tar）   源文件/目录（可以是多个）
		解包：tar	-xvf	源包（*.tar）
		解包到指定目录：tar	-xvf	源包（*.tar）	-C	目标目录
		解包包中指定文件：  tar	-xvf	源包	目标文件
		测试包（查看包）：tar   -tvf   源包
		合并包：tar  -Avf  目标包    源包
		追加文件到包：tar  -rvf	  目标包   源文件
		调用gzip工具压缩：tar -zcvf   目标包（*.tar.gz）  源文件/目录
		调用bzip2工具压缩：tar -jcvf   目标包（*.tar.bz2）源文件/目录

	例如：将/bin目录下所有C开头的命令打包成command.tar
		tar -cvf command.tar /bin/C*
	
	      将user.tar包中的etc/group文件解包到bin目录中